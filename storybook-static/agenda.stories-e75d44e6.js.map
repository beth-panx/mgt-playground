{"version":3,"file":"agenda.stories-e75d44e6.js","sources":["../dist/es6/components/mgt-agenda/mgt-agenda-css.js","../dist/es6/components/mgt-agenda/mgt-agenda.js","../stories/mock-provider/agenda.stories.js"],"sourcesContent":["// THIS FILE IS AUTO GENERATED\n// ANY CHANGES WILL BE LOST DURING BUILD\n// MODIFY THE .SCSS FILE INSTEAD\nimport { css } from 'lit-element';\n/**\n * exports lit-element css\n * @export styles\n */\nexport const styles = [\n    css `\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n/*\r\n  Your use of the content in the files referenced here is subject to the terms of the license at http://aka.ms/fabric-assets-license\r\n*/\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n:host([hidden]) {\n  display: none; }\n\n:host {\n  display: block;\n  --default-font-family: \"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\",\n    -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif;\n  --theme-primary-color: #0078d7;\n  --theme-dark-color: #005a9e; }\n\n.ms-Icon {\n  display: inline-block;\n  font-family: \"FabricMDL2Icons\";\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  margin: 4px 0; }\n\n.ms-Icon--ChevronDown::before {\n  content: \"\\\\\\E70D\"; }\n\n.ms-Icon--ChevronUp::before {\n  content: \"\\\\\\E70E\"; }\n\n.ms-Icon--Contact::before {\n  content: \"\\\\\\E77B\"; }\n\n.ms-Icon--AddFriend::before {\n  content: \"\\\\\\E8FA\"; }\n\n.ms-Icon--OutlookLogoInverse::before {\n  content: \"\\\\\\EB6D\"; }\n\n:host .header,\nmgt-agenda .header {\n  margin: var(--agenda-header-margin, 40px 10px 14px 10px);\n  font-family: var(--default-font-family);\n  font-size: var(--agenda-header-font-size, 24px);\n  color: var(--agenda-header-color, #333333); }\n\n:host .agenda > .group:first-child > .header,\nmgt-agenda .agenda > .group:first-child > .header {\n  margin-top: 0; }\n\n:host .agenda-list,\nmgt-agenda .agenda-list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  font-family: var(--default-font-family);\n  font-style: normal;\n  font-weight: normal; }\n\n:host .event,\nmgt-agenda .event {\n  background: var(--event-background, #ffffff);\n  border: var(--event-border, solid 2px rgba(0, 0, 0, 0));\n  box-shadow: var(--event-box-shadow, 0px 2px 8px rgba(0, 0, 0, 0.092));\n  margin: var(--event-margin, 0px 10px 14px 10px);\n  padding: var(--event-padding, 0px);\n  display: flex; }\n\n:host .narrow .event,\nmgt-agenda .narrow .event {\n  flex-direction: column; }\n\n:host .event-time-container,\nmgt-agenda .event-time-container {\n  display: flex;\n  flex-direction: column;\n  margin: 18px 38px 18px 18px;\n  width: 120px; }\n\n:host .narrow .event-time-container,\nmgt-agenda .narrow .event-time-container {\n  margin: 14px 18px 8px 18px; }\n\n:host .event-time,\nmgt-agenda .event-time {\n  font-size: var(--event-time-font-size, 12px);\n  color: var(--event-time-color, #000000);\n  font-weight: 600; }\n\n:host .event-duration,\nmgt-agenda .event-duration {\n  color: rgba(16, 16, 16, 0.3); }\n\n:host .event-details-container,\nmgt-agenda .event-details-container {\n  margin: 14px 18px 14px 0px; }\n\n:host .narrow .event-details-container,\nmgt-agenda .narrow .event-details-container {\n  margin: 0px 18px 14px 18px; }\n\n:host .event-subject,\nmgt-agenda .event-subject {\n  margin: 0px 18px 0px 0px;\n  font-size: var(--event-subject-font-size, 19px);\n  color: var(--event-subject-color, #333333); }\n\n:host .event-location-container,\nmgt-agenda .event-location-container {\n  display: flex;\n  margin: 8px 18px 0px 0px; }\n\n:host .event-location,\nmgt-agenda .event-location {\n  font-size: var(--event-location-font-size, 12px);\n  color: var(--event-location-color, #000000);\n  margin: 0px 0px 0px 4px; }\n\n:host .event-attendees,\nmgt-agenda .event-attendees {\n  --list-margin: 8px 0 0 0;\n  --avatar-size-s: 20px; }\n\n:host .event-other-container,\nmgt-agenda .event-other-container {\n  margin: 2px 16px 4px 16px;\n  margin-left: auto; }\n\n:host .loading-element,\nmgt-agenda .loading-element {\n  background: #f2f2f2;\n  border-radius: 1px; }\n\n:host .event-time-loading,\nmgt-agenda .event-time-loading {\n  width: 100px;\n  height: 10px; }\n\n:host .event-subject-loading,\nmgt-agenda .event-subject-loading {\n  width: 263px;\n  height: 16px; }\n\n:host .event-location-icon-loading,\nmgt-agenda .event-location-icon-loading {\n  width: 14px;\n  height: 14px; }\n\n:host .event-location-loading,\nmgt-agenda .event-location-loading {\n  width: 90px;\n  height: 10px;\n  margin: 2px 0px 0px 4px; }\n\n:host .event-attendee-loading,\nmgt-agenda .event-attendee-loading {\n  width: 20px;\n  height: 20px;\n  border-radius: 10px;\n  margin: 0 2px 0 0; }\n\n`\n];\n//# sourceMappingURL=mgt-agenda-css.js.map","/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { customElement, html, property } from 'lit-element';\nimport { Providers } from '../../Providers';\nimport { ProviderState } from '../../providers/IProvider';\nimport { styles } from './mgt-agenda-css';\nimport '../../styles/fabric-icon-font';\nimport { prepScopes } from '../../utils/GraphHelpers';\nimport { getDayOfWeekString, getMonthString } from '../../utils/Utils';\nimport '../mgt-person/mgt-person';\nimport { MgtTemplatedComponent } from '../templatedComponent';\n/**\n * Web Component which represents events in a user or group calendar.\n *\n * @export\n * @class MgtAgenda\n * @extends {MgtTemplatedComponent}\n */\nlet MgtAgenda = class MgtAgenda extends MgtTemplatedComponent {\n    constructor() {\n        super();\n        /**\n         * allows developer to define agenda to group events by day.\n         * @type {Boolean}\n         */\n        this.groupByDay = false;\n        /**\n         * sets number of days until endate, 3 is the default\n         * @type {number}\n         */\n        this.days = 3;\n        this._firstUpdated = false;\n        /**\n         * determines if agenda component is still loading details.\n         * @type {boolean}\n         */\n        this._loading = true;\n        this.onResize = this.onResize.bind(this);\n    }\n    /**\n     * Array of styles to apply to the element. The styles should be defined\n     * using the `css` tag function.\n     */\n    static get styles() {\n        return styles;\n    }\n    /**\n     * Invoked when the element is first updated. Implement to perform one time\n     * work on the element after update.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    firstUpdated() {\n        this._firstUpdated = true;\n        Providers.onProviderUpdated(() => this.loadData());\n        this.loadData();\n    }\n    /**\n     * Determines width available if resize is necessary, adds onResize event listener to window\n     *\n     * @memberof MgtAgenda\n     */\n    connectedCallback() {\n        this._isNarrow = this.offsetWidth < 600;\n        super.connectedCallback();\n        window.addEventListener('resize', this.onResize);\n    }\n    /**\n     * Removes onResize event listener from window\n     *\n     * @memberof MgtAgenda\n     */\n    disconnectedCallback() {\n        window.removeEventListener('resize', this.onResize);\n        super.disconnectedCallback();\n    }\n    /**\n     * Synchronizes property values when attributes change.\n     *\n     * @param {*} name\n     * @param {*} oldValue\n     * @param {*} newValue\n     * @memberof MgtAgenda\n     */\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (oldValue !== newValue && (name === 'date' || name === 'days' || name === 'group-id')) {\n            this.events = null;\n            this.loadData();\n        }\n        super.attributeChangedCallback(name, oldValue, newValue);\n    }\n    /**\n     * Invoked on each update to perform rendering tasks. This method must return a lit-html TemplateResult.\n     * Setting properties inside this method will not trigger the element to update\n     *\n     * @returns\n     * @memberof MgtAgenda\n     */\n    render() {\n        this._isNarrow = this.offsetWidth < 600;\n        return html `\n      <div class=\"agenda ${this._isNarrow ? 'narrow' : ''}\">\n        ${this.renderAgenda()}\n      </div>\n    `;\n    }\n    onResize() {\n        this._isNarrow = this.offsetWidth < 600;\n    }\n    loadData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.events) {\n                return;\n            }\n            if (!this._firstUpdated) {\n                return;\n            }\n            const p = Providers.globalProvider;\n            if (p && p.state === ProviderState.SignedIn) {\n                this._loading = true;\n                if (this.eventQuery) {\n                    try {\n                        const tokens = this.eventQuery.split('|');\n                        let scope;\n                        let query;\n                        if (tokens.length > 1) {\n                            query = tokens[0].trim();\n                            scope = tokens[1].trim();\n                        }\n                        else {\n                            query = this.eventQuery;\n                        }\n                        let request = yield p.graph.client.api(query);\n                        if (scope) {\n                            request = request.middlewareOptions(prepScopes(scope));\n                        }\n                        const results = yield request.get();\n                        if (results && results.value) {\n                            this.events = results.value;\n                        }\n                        // tslint:disable-next-line: no-empty\n                    }\n                    catch (e) { }\n                }\n                else {\n                    const start = this.date ? new Date(this.date) : new Date();\n                    start.setHours(0, 0, 0, 0);\n                    const end = new Date(start.getTime());\n                    end.setDate(start.getDate() + this.days);\n                    try {\n                        this.events = yield p.graph.getEvents(start, end, this.groupId);\n                    }\n                    catch (error) {\n                        // noop - possible error with graph\n                    }\n                }\n                this._loading = false;\n            }\n            else if (p && p.state === ProviderState.Loading) {\n                this._loading = true;\n            }\n            else {\n                this._loading = false;\n            }\n        });\n    }\n    renderAgenda() {\n        if (this._loading) {\n            return this.renderTemplate('loading', null) || this.renderLoading();\n        }\n        if (this.events) {\n            const events = this.showMax && this.showMax > 0 ? this.events.slice(0, this.showMax) : this.events;\n            const renderedTemplate = this.renderTemplate('default', { events });\n            if (renderedTemplate) {\n                return renderedTemplate;\n            }\n            if (this.groupByDay) {\n                const grouped = {};\n                // tslint:disable-next-line: prefer-for-of\n                for (let i = 0; i < events.length; i++) {\n                    const header = this.getDateHeaderFromDateTimeString(events[i].start.dateTime);\n                    grouped[header] = grouped[header] || [];\n                    grouped[header].push(events[i]);\n                }\n                return html `\n          <div class=\"agenda grouped ${this._isNarrow ? 'narrow' : ''}\">\n            ${Object.keys(grouped).map(header => html `\n                  <div class=\"group\">\n                    ${this.renderTemplate('header', { header }, 'header-' + header) ||\n                    html `\n                        <div class=\"header\" aria-label=\"${header}\">${header}</div>\n                      `}\n                    ${this.renderListOfEvents(grouped[header])}\n                  </div>\n                `)}\n          </div>\n        `;\n            }\n            return this.renderListOfEvents(events);\n        }\n        else {\n            return this.renderTemplate('no-data', null) || html ``;\n        }\n    }\n    renderListOfEvents(events) {\n        return html `\n      <ul class=\"agenda-list\">\n        ${events.map(event => html `\n              <li @click=${() => this.eventClicked(event)}>\n                ${this.renderTemplate('event', { event }, event.id) || this.renderEvent(event)}\n              </li>\n            `)}\n      </ul>\n    `;\n    }\n    renderLoading() {\n        return html `\n      <div class=\"event\">\n        <div class=\"event-time-container\">\n          <div class=\"event-time-loading loading-element\"></div>\n        </div>\n        <div class=\"event-details-container\">\n          <div class=\"event-subject-loading loading-element\"></div>\n          <div class=\"event-location-container\">\n            <div class=\"event-location-icon-loading loading-element\"></div>\n            <div class=\"event-location-loading loading-element\"></div>\n          </div>\n          <div class=\"event-location-container\">\n            <div class=\"event-attendee-loading loading-element\"></div>\n            <div class=\"event-attendee-loading loading-element\"></div>\n            <div class=\"event-attendee-loading loading-element\"></div>\n          </div>\n        </div>\n      </div>\n    `;\n    }\n    renderEvent(event) {\n        return html `\n      <div class=\"event\">\n        <div class=\"event-time-container\">\n          <div class=\"event-time\" aria-label=\"${this.getEventTimeString(event)}\">${this.getEventTimeString(event)}</div>\n        </div>\n        <div class=\"event-details-container\">\n          <div class=\"event-subject\">${event.subject}</div>\n          ${this.renderLocation(event)} ${this.renderAttendies(event)}\n        </div>\n        ${this.templates['event-other']\n            ? html `\n              <div class=\"event-other-container\">\n                ${this.renderTemplate('event-other', { event }, event.id + '-other')}\n              </div>\n            `\n            : ''}\n      </div>\n    `;\n        // <div class=\"event-duration\">${this.getEventDuration(event)}</div>\n    }\n    renderLocation(event) {\n        if (!event.location.displayName) {\n            return null;\n        }\n        return html `\n      <div class=\"event-location-container\">\n        <svg width=\"10\" height=\"13\" viewBox=\"0 0 10 13\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M4.99989 6.49989C4.15159 6.49989 3.46143 5.81458 3.46143 4.97224C3.46143 4.12965 4.15159 3.44434 4.99989 3.44434C5.84845 3.44434 6.53835 4.12965 6.53835 4.97224C6.53835 5.81458 5.84845 6.49989 4.99989 6.49989Z\"\n            stroke=\"black\"\n          />\n          <path\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M8.1897 7.57436L5.00029 12L1.80577 7.56765C0.5971 6.01895 0.770299 3.47507 2.17681 2.12383C2.93098 1.39918 3.93367 1 5.00029 1C6.06692 1 7.06961 1.39918 7.82401 2.12383C9.23075 3.47507 9.40372 6.01895 8.1897 7.57436Z\"\n            stroke=\"black\"\n          />\n        </svg>\n        <div class=\"event-location\" aria-label=\"${event.location.displayName}\">${event.location.displayName}</div>\n      </div>\n    `;\n    }\n    renderAttendies(event) {\n        if (!event.attendees.length) {\n            return null;\n        }\n        return html `\n      <mgt-people\n        class=\"event-attendees\"\n        .people=${event.attendees.map(attendee => ({\n            displayName: attendee.emailAddress.name,\n            emailAddresses: [attendee.emailAddress]\n        }))}\n      ></mgt-people>\n    `;\n    }\n    eventClicked(event) {\n        this.fireCustomEvent('eventClick', { event });\n    }\n    getEventTimeString(event) {\n        if (event.isAllDay) {\n            return 'ALL DAY';\n        }\n        const start = this.prettyPrintTimeFromDateTime(new Date(event.start.dateTime));\n        const end = this.prettyPrintTimeFromDateTime(new Date(event.end.dateTime));\n        return `${start} - ${end}`;\n    }\n    prettyPrintTimeFromDateTime(date) {\n        date.setMinutes(date.getMinutes() - date.getTimezoneOffset());\n        let hours = date.getHours();\n        const minutes = date.getMinutes();\n        const ampm = hours >= 12 ? 'PM' : 'AM';\n        hours = hours % 12;\n        hours = hours ? hours : 12;\n        const minutesStr = minutes < 10 ? '0' + minutes : minutes;\n        return `${hours}:${minutesStr} ${ampm}`;\n    }\n    getDateHeaderFromDateTimeString(dateTimeString) {\n        const date = new Date(dateTimeString);\n        date.setMinutes(date.getMinutes() - date.getTimezoneOffset());\n        const dayIndex = date.getDay();\n        const monthIndex = date.getMonth();\n        const day = date.getDate();\n        const year = date.getFullYear();\n        return `${getDayOfWeekString(dayIndex)}, ${getMonthString(monthIndex)} ${day}, ${year}`;\n    }\n    getEventDuration(event) {\n        let dtStart = new Date(event.start.dateTime);\n        const dtEnd = new Date(event.end.dateTime);\n        const dtNow = new Date();\n        let result = '';\n        if (dtNow > dtStart) {\n            dtStart = dtNow;\n        }\n        const diff = dtEnd.getTime() - dtStart.getTime();\n        const durationMinutes = Math.round(diff / 60000);\n        if (durationMinutes > 1440 || event.isAllDay) {\n            result = Math.ceil(durationMinutes / 1440) + 'd';\n        }\n        else if (durationMinutes > 60) {\n            result = Math.round(durationMinutes / 60) + 'h';\n            const leftoverMinutes = durationMinutes % 60;\n            if (leftoverMinutes) {\n                result += leftoverMinutes + 'm';\n            }\n        }\n        else {\n            result = durationMinutes + 'm';\n        }\n        return result;\n    }\n};\n__decorate([\n    property({\n        attribute: 'events'\n    })\n], MgtAgenda.prototype, \"events\", void 0);\n__decorate([\n    property({\n        attribute: 'group-by-day',\n        reflect: true,\n        type: Boolean\n    })\n], MgtAgenda.prototype, \"groupByDay\", void 0);\n__decorate([\n    property({\n        attribute: 'date',\n        reflect: true,\n        type: String\n    })\n], MgtAgenda.prototype, \"date\", void 0);\n__decorate([\n    property({\n        attribute: 'days',\n        reflect: true,\n        type: Number\n    })\n], MgtAgenda.prototype, \"days\", void 0);\n__decorate([\n    property({\n        attribute: 'event-query',\n        type: String\n    })\n], MgtAgenda.prototype, \"eventQuery\", void 0);\n__decorate([\n    property({\n        attribute: 'show-max',\n        type: Number\n    })\n], MgtAgenda.prototype, \"showMax\", void 0);\n__decorate([\n    property({\n        attribute: 'group-id',\n        type: String\n    })\n], MgtAgenda.prototype, \"groupId\", void 0);\n__decorate([\n    property({ attribute: false })\n], MgtAgenda.prototype, \"_isNarrow\", void 0);\n__decorate([\n    property({ attribute: false })\n], MgtAgenda.prototype, \"_loading\", void 0);\nMgtAgenda = __decorate([\n    customElement('mgt-agenda')\n], MgtAgenda);\nexport { MgtAgenda };\n//# sourceMappingURL=mgt-agenda.js.map","import { html } from 'lit-element';\nimport { withKnobs, withWebComponentsKnobs } from '@open-wc/demoing-storybook';\nimport '../../dist/es6/components/mgt-agenda/mgt-agenda';\nimport '../../dist/es6/mock/mgt-mock-provider';\nimport '../../dist/es6/mock/MockProvider';\n\nexport default {\n  title: 'Mock Provider|mgt-agenda',\n  component: 'mgt-agenda',\n  decorators: [withKnobs, withWebComponentsKnobs]\n};\n\nexport const simple = () => html`\n  <mgt-mock-provider></mgt-mock-provider>\n  <mgt-agenda></mgt-agenda>\n`;\n\nexport const getByEventQuery = () => html`\n  <mgt-mock-provider></mgt-mock-provider>\n  <mgt-agenda event-query=\"/me/events?orderby=start/dateTime\"></mgt-agenda>\n`;\n\nexport const getByDate = () => html`\n  <mgt-mock-provider></mgt-mock-provider>\n  <mgt-agenda group-by-day date=\"May 7, 2019\" days=\"3\"></mgt-agenda>\n`;\n\nexport const getByEventTemplate = () => html`\n  <mgt-mock-provider></mgt-mock-provider>\n  <mgt-agenda>\n    <template data-type=\"event\">\n      <button class=\"eventButton\">\n        <div class=\"event-subject\">{{ event.subject }}</div>\n        <div data-for=\"attendee in event.attendees\">\n          <mgt-person person-query=\"{{ attendee.emailAddress.name }}\" show-name show-email> </mgt-person>\n        </div>\n      </button>\n    </template>\n    <template data-type=\"no-data\">\n      There are no events found!\n    </template>\n  </mgt-agenda>\n`;\n"],"names":["styles","css","MgtAgenda","MgtTemplatedComponent","[object Object]","groupByDay","days","_firstUpdated","_loading","onResize","this","bind","Providers","onProviderUpdated","loadData","_isNarrow","offsetWidth","connectedCallback","window","addEventListener","removeEventListener","disconnectedCallback","name","oldValue","newValue","events","attributeChangedCallback","html","renderAgenda","p","globalProvider","state","ProviderState","SignedIn","eventQuery","tokens","split","scope","query","length","trim","request","graph","client","api","middlewareOptions","prepScopes","results","get","value","e","start","date","Date","setHours","end","getTime","setDate","getDate","getEvents","groupId","error","Loading","renderTemplate","renderLoading","showMax","slice","renderedTemplate","grouped","i","header","getDateHeaderFromDateTimeString","dateTime","push","Object","keys","map","renderListOfEvents","event","eventClicked","id","renderEvent","getEventTimeString","subject","renderLocation","renderAttendies","templates","location","displayName","attendees","attendee","emailAddress","emailAddresses","fireCustomEvent","isAllDay","prettyPrintTimeFromDateTime","setMinutes","getMinutes","getTimezoneOffset","hours","getHours","minutes","ampm","dateTimeString","dayIndex","getDay","monthIndex","getMonth","day","year","getFullYear","getDayOfWeekString","getMonthString","dtStart","dtEnd","dtNow","result","diff","durationMinutes","Math","round","ceil","leftoverMinutes","__decorate","property","attribute","reflect","type","Boolean","String","Number","customElement","simple","getByEventQuery","getByDate","getByEventTemplate","title","component","decorators","withKnobs","withWebComponentsKnobs"],"mappings":"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"}