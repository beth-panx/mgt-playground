import{d as e,N as t,e as n,f as o,b as s}from"./lit-html-c7682711.js";const r=(e,o)=>{const s=e.startNode.parentNode,r=void 0===o?e.endNode:o.startNode,l=s.insertBefore(n(),r);s.insertBefore(n(),r);const i=new t(e.options);return i.insertAfterNode(l),i},l=(e,t)=>(e.setValue(t),e.commit(),e),i=(e,t,n)=>{const s=e.startNode.parentNode,r=n?n.startNode:e.endNode,l=t.endNode.nextSibling;l!==r&&o(s,t.startNode,l,r)},a=e=>{s(e.startNode.parentNode,e.startNode,e.endNode.nextSibling)},d=(e,t,n)=>{const o=new Map;for(let s=t;s<=n;s++)o.set(e[s],s);return o},f=new WeakMap,N=new WeakMap,c=e((e,n,o)=>{let s;return void 0===o?o=n:void 0!==n&&(s=n),n=>{if(!(n instanceof t))throw new Error("repeat can only be used in text bindings");const c=f.get(n)||[],u=N.get(n)||[],p=[],g=[],h=[];let w,b,m=0;for(const t of e)h[m]=s?s(t,m):m,g[m]=o(t,m),m++;let v=0,x=c.length-1,M=0,k=g.length-1;for(;v<=x&&M<=k;)if(null===c[v])v++;else if(null===c[x])x--;else if(u[v]===h[M])p[M]=l(c[v],g[M]),v++,M++;else if(u[x]===h[k])p[k]=l(c[x],g[k]),x--,k--;else if(u[v]===h[k])p[k]=l(c[v],g[k]),i(n,c[v],p[k+1]),v++,k--;else if(u[x]===h[M])p[M]=l(c[x],g[M]),i(n,c[x],c[v]),x--,M++;else if(void 0===w&&(w=d(h,M,k),b=d(u,v,x)),w.has(u[v]))if(w.has(u[x])){const e=b.get(h[M]),t=void 0!==e?c[e]:null;if(null===t){const e=r(n,c[v]);l(e,g[M]),p[M]=e}else p[M]=l(t,g[M]),i(n,t,c[v]),c[e]=null;M++}else a(c[x]),x--;else a(c[v]),v++;for(;M<=k;){const e=r(n,p[k+1]);l(e,g[M]),p[M++]=e}for(;v<=x;){const e=c[v++];null!==e&&a(e)}f.set(n,p),N.set(n,h)}});export{c as r};
//# sourceMappingURL=repeat-78423d92.js.map
